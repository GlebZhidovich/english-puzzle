!function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],p=0,l=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(d&&d(e);l.length;)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={0:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var d=c;i.push([3,1]),n()}([function(t,e,n){var r=n(1),o=n(2);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(t.i,o,i),o.locals?o.locals:{});t.exports=a},,function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);function r(t,e,n){var r,o=document.createElement(t);return(r=o.classList).add.apply(r,e),n&&o.append.apply(o,n),o}var o,i=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},a=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function s(t,e){return i(this,void 0,void 0,(function(){var n,o,i,s,c,u,d;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,fetch("https://afternoon-falls-25894.herokuapp.com/words?page="+Math.floor(t/2)+"&group="+e)];case 1:return(n=a.sent()).ok?(s=(i=Array).from,[4,n.json()]):[3,3];case 2:return o=s.apply(i,[a.sent()]),[2,(o=t%2==0?o.slice(0,10):o.slice(10)).map((function(t){var e=t.image,n=t.textExampleTranslate,r=t.textExample,o=t.audioExample;return r=r.replace(/<\/?b>/g,""),{audioExample:o=o.replace("files","/english-puzzle/assets/audio"),image:e,textExample:r,textExampleTranslate:n}}))];case 3:throw new Error(""+n.status);case 4:return c=a.sent(),u=document.querySelector(".errors"),d=r("div",["alert","alert-danger"],[c.toString()]),u.append(d),[2,c.toString()];case 5:return[2]}}))}))}function c(t,e){for(var n=[],o=0;o<t;o+=1){var i=r("li",["dropdown-item"],[e[0].toUpperCase()+e.substring(1)+": "+(o+1)]);i.setAttribute("data-"+e,""+o),n.push(i)}var a=r("ul",["dropdown-menu"],n);return a.setAttribute("style","position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);"),a}function u(t){var e=r("button",["btn","btn-primary","dropdown-toggle"],["Page: "+(t+1)]);return e.setAttribute("data-type","page"),r("div",["dropdown","puzzle__controls-data__dropdown"],[e,c(60,"page")])}function d(t){var e=r("ul",["btn","btn-primary","dropdown-toggle"],["Level: "+(t+1)]);return e.setAttribute("data-type","group"),r("div",["dropdown","puzzle__controls-data__dropdown"],[e,c(6,"level")])}function p(){var t=["sound","translate","melody","image"].map((function(t){return(n=r("button",["puzzle__controls-options__btn",e=t,"btn","btn-primary"])).setAttribute("data-type",e),n;var e,n}));return r("div",["puzzle__controls-options"],t)}var l,h,f,v=function(){function t(){return this.isText=!0,this.isBtn=!0,o||(o=this,this)}return Object.defineProperty(t.prototype,"container",{get:function(){return this.appContainer},enumerable:!0,configurable:!0}),t.create=function(){return new t},t.prototype.setData=function(t){return this.data=t,this},t.prototype.createContainer=function(){return this.appContainer=r("div",["puzzle__content__tips"]),this},t.prototype.cleanContainer=function(){return this.appContainer.innerHTML="",this},t.prototype.addBtn=function(){return this.btn=r("button",["puzzle__content__tips-btn","btn","btn-info"]),this.btn.setAttribute("data-action","repeat"),this.container.prepend(this.btn),this},t.prototype.delBtn=function(){return this.btn&&(this.btn.remove(),this.btn=null),this},t.prototype.addText=function(){return this.text=r("p",["puzzle__content__tips-text"],[this.data.textExampleTranslate]),this.container.append(this.text),this},t.prototype.delText=function(){return this.text&&(this.text.remove(),this.text=null),this},t.prototype.addAudio=function(){var t=r("source",["puzzle__content__tips-source"]);return t.setAttribute("src",this.data.audioExample),t.setAttribute("type","audio/ogg"),this.audio=r("audio",["puzzle__content__tips-audio"],[t]),this.container.append(this.audio),this},t.prototype.delAudio=function(){return this.audio&&(this.audio.remove(),this.audio=null),this},t.prototype.addContent=function(){return this.addBtn().addText().addAudio(),this},t}(),y=function(){function t(){return this.fields=[],l||(l=this,this)}return t.prototype.getFields=function(){return this.fields},t.prototype.cleanFields=function(){return this.fields=[],this},Object.defineProperty(t.prototype,"container",{get:function(){return this.appContainer},enumerable:!0,configurable:!0}),t.create=function(){return new t},t.prototype.setCount=function(t){return this.count=t,this},t.prototype.createContainer=function(){return this.appContainer=r("div",["puzzle__content__field-list"]),this},t.prototype.cleanContainer=function(){return this.appContainer.innerHTML="",this},t.prototype.cleanField=function(t){return this.fields[t].innerHTML="",this},t.prototype.addContent=function(){if(this.count)for(var t=0;t<this.count;t+=1){var e=r("div",["puzzle__content__field-item"]);this.fields.push(e),this.container.append(e)}return this},t}(),g=function(){function t(){return h||(h=this,this)}return Object.defineProperty(t.prototype,"container",{get:function(){return this.appContainer},enumerable:!0,configurable:!0}),t.create=function(){return new t},t.prototype.getWords=function(){return this.words},t.prototype.setWords=function(t){return this.words=t,this},t.prototype.createContainer=function(){return this.appContainer=r("div",["puzzle__content__words-list"]),this},t.prototype.cleanContainer=function(){return this.appContainer.innerHTML="",this},t.prototype.addContent=function(){for(var t,e,n=this,o=this.words.split(" "),i=new Set;i.size!==o.length;){var a=(t=0,e=o.length,Math.floor(Math.random()*(e-t))+t);i.add(a)}return Array.from(i).forEach((function(t){var e=r("div",["puzzle__content__words-item"],[o[t]]);e.setAttribute("data-action","in-field"),e.setAttribute("draggable","true"),n.container.append(e)})),this},t}();function b(t,e){return r("button",["puzzle__content__btn","btn","btn-info",e],[t])}var C=function(){function t(){return f||(f=this,this)}return Object.defineProperty(t.prototype,"container",{get:function(){return this.appContainer},enumerable:!0,configurable:!0}),t.create=function(){return new t},t.prototype.createContainer=function(){return this.appContainer=r("div",["puzzle__content__btns"]),this},t.prototype.cleanContainer=function(){return this.startBtn=null,this.checkBtn=null,this.continueBtn=null,this.appContainer.innerHTML="",this},t.prototype.addFirstBtn=function(){return this.startBtn||(this.startBtn=b("I don't know","know"),this.startBtn.setAttribute("data-action","know"),this.container.append(this.startBtn)),this},t.prototype.delFirstBtn=function(){return this.startBtn&&(this.startBtn.remove(),this.startBtn=null),this},t.prototype.addCheckBtn=function(){return this.checkBtn||(this.checkBtn=b("Check","check"),this.checkBtn.setAttribute("data-action","check"),this.container.append(this.checkBtn)),this},t.prototype.delCheckBtn=function(){return this.checkBtn&&(this.checkBtn.remove(),this.checkBtn=null),this},t.prototype.addContinueBtn=function(){return this.continueBtn||(this.continueBtn=b("Continue","continue"),this.continueBtn.setAttribute("data-action","continue"),this.container.append(this.continueBtn)),this},t.prototype.delContinueBtn=function(){return this.continueBtn&&(this.continueBtn.remove(),this.continueBtn=null),this},t}();function w(){var t=A.create().getCurWords(),e=C.create(),n=g.create().getWords().split(" ");y.create().getFields()[t].children.length===n.length?e.addCheckBtn():e.delCheckBtn()}function m(){document.querySelectorAll(".puzzle__content__words-item").forEach((function(t){return t.classList.remove("correct-word","wrong-word")}))}var _,x={isSound:!0,isCheck:!1,repeat:function(){document.querySelector(".puzzle__content__tips-audio").play()},know:function(){if(!this.isCheck){var t=A.create().getCurWords(),e=g.create().cleanContainer().getWords().split(" "),n=y.create().cleanField(t).getFields()[t];e.forEach((function(t){var e=r("div",["puzzle__content__words-item"],[t]);e.setAttribute("data-action","out-field"),n.append(e)})),w()}},check:function(){var t=A.create().getCurWords(),e=g.create().cleanContainer().getWords().split(" "),n=y.create().getFields()[t],r=C.create();n.classList.remove("ddd"),e.forEach((function(t,e){n.children[e].classList.remove("correct-word","wrong-word"),t===n.children[e].textContent?n.children[e].classList.add("correct-word"):n.children[e].classList.add("wrong-word")})),e.every((function(t,e){return t===n.children[e].textContent}))&&(r.delCheckBtn().addContinueBtn(),this.isCheck=!0,this.isSound&&this.repeat())},continue:function(){m(),A.create().nextWords();var t=A.create().getCurWords(),e=A.create().getWordsData()[t],n=e.textExampleTranslate,r=e.audioExample;v.create().delText().delAudio().setData({textExampleTranslate:n,audioExample:r}).addText().addAudio(),C.create().delContinueBtn()},"in-field":function(t){if(!this.isCheck){var e=A.create().getCurWords(),n=y.create();t.setAttribute("data-action","out-field"),n.getFields()[e].append(t),w()}},"out-field":function(t){if(!this.isCheck){var e=A.create().getCurWords(),n=y.create().getFields()[e];if(t.parentNode===n)m(),t.setAttribute("data-action","in-field"),g.create().container.append(t),w()}}},k=null;function z(t){var e=t.dataset.action;x[e]&&x[e](t)}function E(t){z(t.target)}function B(t){k=t.target,t.dataTransfer.effectAllowed="move"}function W(t){t.preventDefault&&t.preventDefault();var e=_.getCurWords(),n=y.create().getFields()[e],r=g.create().container;return n===t.target||r===t.target?t.dataTransfer.dropEffect="move":t.dataTransfer.dropEffect="none",!1}function L(t){var e=_.getCurWords(),n=y.create().getFields()[e],r=g.create().container;n!==t.target&&r!==t.target||t.target.classList.add("over")}function T(t){var e=_.getCurWords(),n=y.create().getFields()[e],r=g.create().container;n!==t.target&&r!==t.target||t.target.classList.remove("over")}function O(t){t.stopPropagation&&t.stopPropagation();var e=_.getCurWords(),n=y.create().getFields()[e],r=g.create().container;return n!==t.target&&r!==t.target||(t.target.classList.remove("over"),z(k)),!1}function D(t){}var j,A=function(){function t(){return this.curWords=0,_||(_=this,this)}return Object.defineProperty(t.prototype,"container",{get:function(){return this.appContainer},enumerable:!0,configurable:!0}),t.prototype.getCurWords=function(){return this.curWords},t.prototype.getWordsData=function(){return this.wordsData},t.create=function(){return new t},t.prototype.setData=function(t){return this.wordsData=t,this},t.prototype.createContainer=function(){return this.appContainer=r("div",["puzzle__content"]),this},t.prototype.addTips=function(){var t=v.create().setData(this.wordsData[this.curWords]).createContainer().addContent();return this.container.append(t.container),this},t.prototype.addField=function(){var t=y.create().createContainer().setCount(this.wordsData.length).addContent();return this.container.append(t.container),this},t.prototype.addPuzzleWords=function(){var t=g.create().createContainer().setWords(this.wordsData[this.curWords].textExample).addContent();return this.container.append(t.container),this},t.prototype.addControls=function(){var t=C.create().createContainer().addFirstBtn().container;return this.container.append(t),this},t.prototype.addEventClick=function(){return this.container.addEventListener("click",E),this},t.prototype.addEventDrug=function(){return this.container.addEventListener("dragstart",B),this.container.addEventListener("dragenter",L),this.container.addEventListener("dragleave",T),this.container.addEventListener("dragover",W),this.container.addEventListener("drop",O),this.container.addEventListener("dragend",D),this},t.prototype.nextWords=function(){return this.curWords<this.wordsData.length-1&&(x.isCheck=!1,this.curWords+=1,g.create().setWords(this.wordsData[this.curWords].textExample).addContent()),this},t.prototype.updateContent=function(t){return this.setData(t),v.create().cleanContainer().setData(this.wordsData[this.curWords]).addContent(),y.create().cleanContainer().cleanFields().setCount(this.wordsData.length).addContent(),g.create().cleanContainer().setWords(this.wordsData[this.curWords].textExample).addContent(),C.create().cleanContainer().addFirstBtn(),x.isCheck=!1,this},t}(),S=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},P=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function F(t,e,n){return S(this,void 0,void 0,(function(){var r,o,i,a;return P(this,(function(c){switch(c.label){case 0:return r=j.info,o=r.page,i=r.group,"page"===n?o=e:i=e,[4,s(o,i)];case 1:return"object"==typeof(a=c.sent())&&(!function(t,e){var n=t.parentNode.querySelector(".dropdown-toggle"),r=n.textContent.split(" ");r[1]=""+(e+1),n.textContent=r.join(" ")}(t.parentNode,parseInt("page"===n?o:i,10)),j.info={group:i,page:o},A.create().updateContent(a)),[2]}}))}))}var M={type:function(t){var e=t.parentNode,n=e.querySelector(".dropdown-menu");e.classList.toggle("show"),n.classList.toggle("show")},page:function(t){this.type(t.parentNode);var e=Object.values(t.dataset)[0],n=Object.keys(t.dataset)[0];F(t,parseInt(e,10),n)},level:function(t){this.type(t.parentNode);var e=Object.values(t.dataset)[0],n=Object.keys(t.dataset)[0];F(t,parseInt(e,10),n)},sound:function(){x.isSound=!x.isSound},translate:function(){var t=v.create();t.isText?t.delText():t.addText(),t.isText=!t.isText},melody:function(){var t=v.create();t.isBtn?t.delBtn():t.addBtn(),t.isBtn=!t.isBtn}};function H(t){var e=Object.keys(t.target.dataset)[0];M[e]&&M[e](t.target)}function I(t){var e,n=Object.values(t.target.dataset)[0];(e=t.target).classList.toggle("btn-primary"),e.classList.toggle("btn-secondary"),M[n]&&M[n](t.target)}var N,q=function(){function t(){return j||(j=this,this)}return Object.defineProperty(t.prototype,"container",{get:function(){return this.controlsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"info",{get:function(){return this.curInfoLevel},set:function(t){this.curInfoLevel=t},enumerable:!0,configurable:!0}),t.create=function(){return new t},t.prototype.createContainer=function(){return this.controlsContainer=r("div",["puzzle__controls"]),this},t.prototype.addDataControls=function(t){return this.info=t,this.dataElem=function(t){var e=t.group,n=t.page;return r("div",["puzzle__controls-data"],[d(e),u(n)])}(t),this.container.append(this.dataElem),this},t.prototype.addDataEventClick=function(){return this.dataElem.addEventListener("click",H),this},t.prototype.addOptionsControls=function(){return this.optionsElem=p(),this.container.append(this.optionsElem),this},t.prototype.addOptionsEventClick=function(){return this.optionsElem.addEventListener("click",I),this},t}(),G=function(){function t(){return N||(N=this,this)}return Object.defineProperty(t.prototype,"container",{get:function(){return this.appContainer},enumerable:!0,configurable:!0}),t.create=function(){return new t},t.prototype.createContainer=function(){return this.appContainer=r("div",["puzzle"]),this},t.prototype.addControls=function(t){var e=q.create().createContainer().addDataControls(t).addOptionsControls().addDataEventClick().addOptionsEventClick();return this.container.append(e.container),this},t.prototype.addContent=function(t){var e=A.create().setData(t).createContainer().addTips().addField().addPuzzleWords().addControls().addEventClick().addEventDrug();return this.container.append(e.container),this},t}(),J=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},U=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},K=0;var Q=function(){var t=r("h1",["start-page__title"],["english puzzle".toUpperCase()]),e=r("p",["start-page__subtitle"]);e.innerHTML="Click on words, collect phrases. <br> Words can be drugs and drop. Select tooltips in the menu";var n=r("button",["start-page__btn","btn","btn-primary"],["Start"]),o=r("div",["start-page"],[t,e,n]);return o.addEventListener("click",(function(t){t.target===n&&(t.currentTarget.remove(),function(){J(this,void 0,void 0,(function(){var t,e,n,o;return U(this,(function(i){switch(i.label){case 0:return t=r("div",["errors"]),e=document.body,n=G.create().createContainer().addControls({group:K,page:K}),e.append(n.container,t),[4,s(K,K)];case 1:return"object"==typeof(o=i.sent())&&n.addContent(o),[2]}}))}))}())})),o};document.addEventListener("DOMContentLoaded",(function(){var t=Q();document.body.append(t)}))}]);